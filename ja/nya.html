﻿
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=512">
    <title>ねこ娘</title>
    <link rel="stylesheet" href="/nya.css" type="text/css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
</head>
<body onload="fun();">
    <center>
        <br>
        <br>
        <nobr>
            ねこ娘
        </nobr>
        <nobr>
            <a href="/ja/nya_setting.html">ねこ娘の設定</a>
        </nobr>
        <style>
            input {
                height: 60px;
                width: 250px;
                font-size: 20px;
            }
        </style>
        <script>
                       function dateState(date = new Date()) {
                let hours = date.getHours()
                if (hours >= 6 && hours < 12) {
                    return 'おはようございます'
                } else if (hours >= 12 && hours < 18) {
                    return 'こんにちは'
                } else {
                    return 'こんばんは'
                }
            }
            function mo() {
                var s = ["ニャー！才……触られるんじゃない（ツンデレ）", "ぐうぐうぐうぐう……ニャー！どうして君だ！触るな！", "ニャー……すき", "ニャー…ニャー…欲しい……", "ニャー……もっと欲しいよ……ニャー……"];
                const randomNum = Math.floor(Math.random() * 5);;
                alert(s[randomNum]);
            }
            function nya() {
                var audio = new Audio('/nya.mp3');
                audio.play();
            }
            function baka() {
                var audio = new Audio('/baka.mp3');
                audio.play();
                alert("ニャー！マスター大ばか！");
            }
            function fun() {
                const currentDate = new Date();
                const currentYear = currentDate.getFullYear();
                const currentMonth = currentDate.getMonth() + 1;
                const currentDay = currentDate.getDate();
                var get_date = localStorage.getItem("date")
                const targetDate = new Date(get_date);
                const targetYear = targetDate.getFullYear();
                const targetMonth = targetDate.getMonth() + 1;
                const targetDay = targetDate.getDate();
                var d = localStorage.getItem("day");
                if (d == null) {
                    day = 0;
                }
                else {
                    day = d;
                }
                if (currentYear === targetYear && currentMonth === targetMonth && currentDay === targetDay) {
                    var l = localStorage.getItem("name");

                    if (l == null) {

                    }
                    else {
                        var oB = document.getElementById("pid");
                        oB.innerHTML = l + "~" + dateState() + "~にゃん、今日サインしました~にゃん、累計" + day + "日サインしました~にゃん"
                    }
                    return 1;
                }
                else {
                    var l = localStorage.getItem("name");
                    if (l == null) {

                    }
                    else {
                        var oB = document.getElementById("pid");
                        oB.innerHTML = l + "~" + dateState() + "~にゃん、今日はまだ~にゃん、累計" + day + "日到着しました~にゃん"
                        return 0;
                    }
                }

            }
            function qd() {
                var day = new Number(localStorage.getItem("day"));
                var day1 = day += 1;
                if (fun() == 0) {
                    var call = localStorage.getItem("name");
                    alert(call + "~チェックイン成功~にゃ");
                    localStorage.setItem("qiandao", "1");
                    localStorage.setItem("date", new Date());
                    localStorage.setItem("day", day1);

                }
                else {
                    if (fun() == 1) {
                        var call = localStorage.getItem("name");
                        alert(call + "~今日はサインしました~にゃ");
                    }
                }
                window.location.reload();
            }
        </script>
        <table cellspacing="0" width="1480px">
            <tr class="trdata1">
                <td class="folder">
                    <span class="nobr">
                        <nobr>

                            <p id="pid">本猫娘はまだ飼い主の呼び方がわからない～にゃん、設定を変更してください～にゃん</p>
                            <input type="button" value="チェックイン" onclick="qd()">
                            <input type="button" value="ニャー！ニャー！" onclick="nya()">
                            <input type="button" value="ねこ娘に触る" onclick="mo()">
                            <input type="button" value="ねこ娘とsox" onclick="baka()">
                        </nobr>
                    </span>
                </td>
                <td class="sizedata">
                    <span class="nobr">
                        <nobr></nobr>
                    </span>
                </td>
            </tr>
        </table>
        <table cellspacing="0" width="1480px">
            <tr class="trdata1">
                <td class="folder">
                    <span class="nobr">
                        <nobr>
                            <a href="/ja">ホームに戻る</a>
                        </nobr>
                    </span>
                </td>
                <td class="sizedata">
                    <span class="nobr">
                        <nobr></nobr>
                    </span>
                </td>
            </tr>
        </table>
    </center>
</body>